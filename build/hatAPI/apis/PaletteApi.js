import {CharacteristicWrapper} from "./CharacteristicWrapper.js";
export class PaletteApi extends CharacteristicWrapper {
  constructor(characteristic, screenApi) {
    super(characteristic);
    this._screen = screenApi;
  }
  async enablePaletteMode() {
    await this.sendRaw([11, 219, 137, 34, 123, 231, 16, 165, 177, 218, 72, 113, 44, 95, 104, 173]);
  }
  async a() {
    await this.enablePaletteMode();
    const data = [
      0,
      5,
      128,
      10,
      64,
      10,
      64,
      7,
      128,
      0,
      64,
      0,
      0,
      0,
      255,
      0,
      0,
      255,
      0,
      0,
      255,
      0,
      0,
      255,
      0,
      0,
      255,
      0,
      0,
      255,
      0
    ];
    await this.sendRaw([data.length, ...data]);
    await this._screen.save();
  }
  async ab() {
    await this.enablePaletteMode();
    const data = [
      0,
      5,
      128,
      10,
      64,
      10,
      64,
      7,
      128,
      0,
      64,
      0,
      0,
      127,
      192,
      8,
      64,
      8,
      64,
      8,
      64,
      7,
      128,
      0,
      0,
      18,
      255,
      0,
      18,
      255,
      0,
      18,
      255,
      0,
      18,
      255,
      0,
      18,
      255,
      0,
      18,
      255,
      0,
      18,
      255,
      0,
      18,
      255,
      0,
      18,
      255,
      0,
      18,
      255,
      0,
      18,
      255,
      0,
      18,
      255,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0
    ];
    await this.sendRaw([data.length, ...data]);
    await this._screen.save();
  }
  async b() {
    await this.enablePaletteMode();
    const data = [
      0,
      127,
      192,
      8,
      64,
      8,
      64,
      8,
      64,
      7,
      128,
      0,
      0,
      18,
      255,
      0,
      18,
      255,
      0,
      18,
      255,
      0,
      18,
      255,
      0,
      18,
      255,
      0,
      18,
      255,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0
    ];
    await this.sendRaw([data.length, ...data]);
    await this._screen.save();
  }
  async clear() {
    const data = [
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0
    ];
    await this.sendRaw([data.length, ...data]);
    await this._screen.save();
  }
  async cycle() {
    for (let i = 0; i < 255; i++) {
      for (let ii = 0; ii < 255; ii++) {
        const data = [
          i,
          ii,
          i,
          ii,
          i,
          ii,
          i,
          ii,
          i,
          ii,
          i,
          ii,
          0,
          0,
          255,
          0,
          0,
          255,
          0,
          0,
          255,
          0,
          0,
          255,
          0,
          0,
          255,
          0,
          0,
          255,
          0
        ];
        await this.sendRaw([data.length, ...data]);
        await this._screen.save();
      }
    }
  }
}
